# Игра-стратегия

Данное задание предназначено для закрепления знаний, полученных на курсе, в процессе разработки прототипа игры в жанре Tower Defense. 

Проект должен содержать в себе:

* один игровой уровень
* интерфейс для запуска игры (не обязательно выделять для этого новую сцену)
* интерфейс для описания механики игры (можно совместить с пунктом «интерфейс для запуска игры»)
* интерфейс для перезапуска игры в случае поражения или победы (не обязательно выделять для этого новую сцену)
* пользовательский интерфейс для отображения игровой информации во время игрового процесса
* элементы звукового сопровождения
* рекомендуются LowPoly модели
* рекомендуется баланс

### Tower Defense:
* Build
* Defend
* Repair


## Мысли
Игрок должен перемещаться по локации (сбор монет, постройка башен). Отделение игрока от врагов - высота. Строим стены, перемещаемся по стенам. Телепорт - магия. Магические турели на основе левитирующих кристаллов. Наведение за счёт перемещения по кругу (в центре круга "турели" - точка телепорта игрока). Стены и дорога для врагов - лабиринт. Стратегия - игрок должен понять, по какому пути в лабиринте пойдут враги. Баланс - неправильно расставленные башни должны уменьшать выигрыш или приводить к проигрышу. Меньше башен - больше выигрыш, так как постройка стоит денег.

Для NavMesh лабиринт - статичен. В начале игры на ровной местности подымаются стены (из под земли - из под воды?).

* Победа - ненулевой счёт после смерти последнего противника
* Выигрыш - число монет на счёте при победе
* Проигрыш - уход счёта в минус
* Счёт имеет стартовую сумму
* Счёт увеличивается посредством сбора монет, выпадающих из врагов (телепорт в точку, удалённую от монеты на определённый радиус)
* Счёт уменьшается за счёт строительства-апгрейда башен
* Счёт уменьшается при попадании моба к цели (зависит от моба)

мета-игра: сначала игрок пытается построить башни с целью выживания. сложность 1. потом - при выживании набрать максимум очков - сложность 2. итого: первая волна должна проходиться даже без сбора монет, но должна быть построена хотя бы одна башня. вторая волна не должна проходиться на стартовом капитале - если в первой волне ничего не собрано, во второй придётся собирать и строить. 

8битная механика

двоичный подсчёт монет (цвет, тон) 7 цветов + белый дают 255 - мб не хватит?... Пространство для баланса.

Пояснение механики - видеоролик, либо персонаж, показывающий основные действия (телепорт, постройка башни, убийство моба, сбор монет), но терпящий поражение, и приносящий монеты в виде стартового капитала.

Механика изменения счёта - тоновая и световая индикация появления и исчезновения монеток (появление - нота в мажоре, исчезновение - в миноре).

Максимально визуальный интерфейс, расчёт игры на детскую аудиторию. Минимум цифр, или цифры дублируют основной интерфейс. Звук должен дополнять интерфейс.

Тип врагов? Гусеницы, змеи, ходячие молотки, криперы

## Игровой уровень - v.0.1 до 29.03.2018

Уровень должен представлять из себя локацию, подходящую под механику Tower Defense (окружение, дорога для врагов, точки для постройки башен и цель, к которой идут враги). 

* Prefab: wall
* Prefab: pillar with teleport stone (can build turret)
* Prefab: turret
* Prefab: magic_tower
* Prefab: creeper +(health, bar or images)
* Prefab: wave_controller
* Prefab: coin

FIXME creeper corpse? particle system?

### Модуль управления врагами
Враги должны создаваться в процессе игры и при помощи технологии NavMesh двигаться из точки создания к цели. Враги должны получать урон от пушек и при снижении счетчика жизней до нуля уничтожаться. На месте уничтожения случайным образом должны генерироваться монеты.

### Модуль генерирования волн врагов
в одной волне — определенное количество монстров, новая волна начинается через некоторое время после уничтожения последнего монстра предыдущей волны.

* число волн
* время перед первой волной
* время между волнами - массив или число
* число врагов в волне - массив или число
* параметры врагов в волне (?)

задать параметры волн. в потенциале - переход на json. 

Сразу построены все башни. Интерфейс - в Debug.Log. 

НЕТ в требованиях: постройки башен, интерфейса игровой информации, текстуры на объектах простые, враги в виде прототипов.

Для баланса: запись в файл для каждого моба урон от каждой башни на момент попадания к цели.

Монеты: выпадают практически в одном и том же месте. Перебалансировка волны/урона/скорости/иных параметров для размазывания? или пусть так и будет?

#### Версия 0.1
Равнина, стены, навмеш, цель, модуль создания мобов, точки телепорта, точки создания башен, созданы все башни. При запуске, непрерывно генерятся мобы и идут к цели. При попадании башни в моба добавляется попадание от башни с номером N. При попадании моба к цели он уничтожается (без выпадения монет), его массив урона выводится в файл.
Модуль генерации волн постоянно создаёт мобов с определённым временным разрывом.
#### Версия 0.1a
Модуль генерации волн - создавать мобов сериями с разрывом между сериями больше, чем внутри серийный интервал.

## Пользовательский интерфейс для отображения игровой информации во время игрового процесса v.0.2 до 15.04.2018

Данный интерфейс должен представлять собой информационное табло с описанием текущего состояния игры (номер волны противников, количество побежденных противников, текущее количество собранных монет и т.д.). Данная информация должна отображаться во время игрового процесса, предоставлять актуальные сведения (постоянно обновляться) и быть легко доступна пользователю. 

### v.0.2a Модуль создания защитных турелей
турели строятся при взаимодействии с интерактивным объектом, отвечающим за их постройку. Интерактивный объект может быть расположен, к примеру, непосредственно над местом постройки.

### v.0.2b Модуль для управления турелями
поворот турелей и автоматический огонь по врагам.
Turret.cs -> TargetFollow()

### v.02c Финансовый модуль
процесс постройки турели должен обходиться пользователю в определенное количество монет (монеты должны выпадать из монстров при их уничтожении). Пользователь может собирать монеты, но они должны находиться на карте определенное количество времени и пропадать, если игрок не успел их собрать. 

Автосбор всех монет в конце игры в случае победы для чёткости подсчёта.

### FIXME баги версии 0.1
* отвязать активность от fps (вращение турелей)
* более точно настроить размер мобов и их габариты в навигации

## Интерфейс для запуска игры v.0.3 до 22.04.2018

Интерфейс должен давать возможность запустить игру. При взаимодействии с пользователем необходимо предоставить визуальный фидбэк, в общем случае взаимодействие производить при помощи технологии наведения и удержания взгляда на интерактивном объекте (также приветствуются любые новые типы взаимодействия, рассчитанные на пользователей платформы Cardboard). Главное требование — игра не должна запускаться автоматически, когда пользователь не готов.

### Интерфейс для описания механики игры

Интерфейс должен пояснять основные правила игры, должен быть «читабелен», легко доступен и понятен пользователю (использование изображений для пояснения не запрещается). 

### Интерфейс для перезапуска игры в случае поражения или победы

Интерфейс должен давать возможность перезапустить игру в случае поражения (или победы игрока) и сообщать ему, по какому из двух условий завершилась игра (победа или поражение). Условия взаимодействия аналогичны интерфейсу для запуска игры.

Также вам необходимо создать и настроить модуль отслеживания окончания игры.

Мысль: 
При окончании игры нужно собрать все висящие монеты.

* Поражение - переход расцветки в ЧБ, снег. Остановить всех мобов, турели. Утопить замок.
* Победа - сбор монет, салют.

#### GameManager
* уровень загружен, но не запущен
* уровень запущен - идёт обучение
* уровень запущен - идёт игра
* уровень не запущен, игра завершена победой
* уровень не запущен, игра завершена с поражением

* телепорт
* постройка турелей
* запуск игры
* выход в меню

учебные монеты (отдельный префаб со своими скриптами).

#### Level manager
* выбор уровней

FIXME: добавить particle system на все интерактивные объекты (возможно, с отключением при отключении интерфейса).

FIXME заменить объекты телепорта. - done

FIXME:  bug. если у игрока нет турелей, и баланс ушёл в ноль - игра заканчивается. Если есть хотя бы одна турель - игра заканчивается при попытке уйти ниже нуля.
## Элементы звукового сопровождения v.0.4
### Музыка 
* Музыка для меню
* Музыка для игрового уровня

### Эффекты
* Звук стрельбы из пушек - модуляция нотой мощности
* Звук выпадения монетки
* Звук сбора монеты
* Звук пропадания монеты
### Речь
* No pasaran
* Джомана (победа)
* Бадууга (поражение)
* лака-лака

8bit sound

### Лицензия
На этом этапе уже должны быть выставлены все ассеты. На основании лицензии каждого из сторонних нужно определить собственную лицензию. 

* Google VR
* Standard Assets (FPS Counter, emissive grid (?))
* Level 1 Monster Pack
* Church3D
* Fantasy Defensive Structures


* [numbers CC-BY](https://poly.google.com/view/6-duGG0WcCZ)
* Google Poly: many models
* [Sand texture CC0](https://3dtextures.me/2017/03/23/sand-002/)

[Как ссылаться на чужие ассеты и всё такое](https://wiki.creativecommons.org/wiki/Best_practices_for_attribution)

### Текстуры
* emissive grid заменить на emissive гранит =)

### Выкладка на github.

## Модуль увеличения сложности v.0.5 до 03.05.2018
В процессе игры сложность должна увеличиваться. Параметры увеличения сложности игры выбирайте на свое усмотрение: это может быть количество монстров в одной волне, скорость передвижения монстров, количество жизней монстров и т. д.

Перебалансировка. См. [статью](http://telegra.ph/IGROKA-NADO-OBMANYVAT-03-13)

## Дополнения

Запись очков - число на счёте, время игры, дата игры. При выборе можно посмотреть конфигурацию построенных башен?
